<!--<link rel="stylesheet" type="text/css" href="../assets/widgets/wizard/wizard.css">-->
<script type="text/javascript" src="app/assets/widgets/wizard/wizard.js"></script>
<script type="text/javascript" src="app/assets/widgets/wizard/wizard-demo.js"></script>
<!-- Boostrap Tabs -->
<script type="text/javascript" src="app/assets/widgets/tabs/tabs.js"></script>
<style>
.txtbxReq{border:1px solid red;}
</style>
<div ng-controller="addNewPayeeCtrl">
    <div class="space_20"></div>
    <h3 class="subhead">Add New <span>Domestic</span> Payee</h3>
    <div class="space_20"></div>
    <div class="panel">
        <div class="panel-body">
            <!--<h3 class="title-hero">
            Custom navigation
        </h3> -->
            <div class="example-box-wrapper">
                <div id="form-wizard-2" class="form-wizard">
                    <ul>
                        <li>
                            <a href="#custom-step-1" data-toggle="tab">
                                <label class="wizard-step">1</label>
                                <span class="wizard-description">
                         Payee
                         <!-- <small>Gather the user details</small> -->
                      </span>
                            </a>
                        </li>
                        <li>
                            <a href="#custom-step-2" data-toggle="tab">
                                <label class="wizard-step">2</label>
                                <span class="wizard-description">
                         Bank
                         <!-- <small>Confirm contact details</small> -->
                      </span>
                            </a>
                        </li>
                        <li>
                            <a href="#custom-step-3" data-toggle="tab" ng-if="!payeeForm.$error.required">
                                <label class="wizard-step">3</label>
                                <span class="wizard-description">
                         Confirm
                         <!-- <small>Establish business description</small> -->
                      </span>
                            </a>
							<a ng-if="payeeForm.$error.required">
							<label class="wizard-step">3</label>
                                <span class="wizard-description">
								Confirm
                      </span>
								</a>
                        </li>
                    </ul>

                    <div class="tab-content">
						<!-- Payee Form Start -->
						<form novalidate id="payeeForm" name="payeeForm" class="payeeForm">
                        <div class="tab-pane active" id="custom-step-1">
                            <div class="content-box">
                                <h3 class="content-box-header bg-default">
                                Payee Details
                            </h3>
                                <div class="content-box-wrapper">
                                    <!-- Start Row  -->
                                    <div class="row">
                                        <div class="col-md-6">
                                            <label class="frmlbl"> Recipient Type*</label>
                                            <div class="smallrdo">
                                                <input id="individual" type="radio" name="recipientType" value="Individual" ng-model="payee.type">
                                                <label for="individual">Individual</label>
                                                <input id="business" type="radio" name="recipientType" value="Business" ng-model="payee.type">
                                                <label for="business">Business</label>
                                            </div>
										</div>
                                        <div class="col-md-6">
                                            <div class="space_10"></div>
                                        </div>
                                    </div>
                                    <!-- End Row  -->
                                    <!-- Start Row  -->
                                    <div class="row">
                                        <div class="col-md-6">
                                            <label class="frmlbl">Payee Name*</label>
                                            <input type="text" class="frmtxtbx" ng-model="payee.name"  name="payeeName" ng-class="{'txtbxReq': (payeeForm.payeeName.$error.required && (payeeForm.payeeName.$touched || payeeForm.$submitted))}" ng-required="true">
										</div>

                                    </div>
                                    <!-- End Row  -->
                                    <!-- Start Row  -->
                                    <div class="row">
                                        <div class="col-md-6">
                                            <label class="frmlbl">Address 1*</label>
                                            <input type="text" class="frmtxtbx" ng-model="payee.address1" name="address1" ng-class="{'txtbxReq': (payeeForm.address1.$error.required && (payeeForm.address1.$touched || payeeForm.$submitted))}" ng-required="true">
                                        </div>
                                        <div class="col-md-6">
                                            <label class="frmlbl">Address 2</label>
                                            <input type="text" class="frmtxtbx" ng-model="payee.address2" name="address2">

                                        </div>

                                    </div>
                                    <!-- End Row  -->
                                    <!-- Start Row  -->
                                    <div class="row">
                                        <div class="col-md-6">
                                            <label class="frmlbl">City*</label>
                                            <input type="text" class="frmtxtbx" ng-model="payee.city" name="city" ng-class="{'txtbxReq': (payeeForm.city.$error.required && (payeeForm.city.$touched || payeeForm.$submitted))}" ng-required="true">
                                        </div>
                                        <div class="col-md-6">
                                            <label class="frmlbl">State*</label>
                                            <input type="text" class="frmtxtbx" ng-model="payee.state" name="state" ng-class="{'txtbxReq': (payeeForm.state.$error.required && (payeeForm.state.$touched || payeeForm.$submitted))}" ng-required="true">

                                        </div>

                                    </div>
                                    <!-- End Row  -->
                                    <!-- Start Row  -->
                                    <div class="row">
                                        <div class="col-md-6">
                                            <label class="frmlbl">Postal Code*</label>
                                            <input type="text" class="frmtxtbx" ng-model="payee.zip" name="zip" ng-class="{'txtbxReq': (payeeForm.zip.$error.required && (payeeForm.zip.$touched || payeeForm.$submitted))}" ng-required="true">
                                        </div>
                                        <div class="col-md-6">

                                        </div>

                                    </div>
                                    <!-- End Row  -->
                                    <!-- Start Row  -->
                                    <div class="row">
                                        <div class="col-md-6">
                                            <label class="frmlbl">Phone No*</label>
                                            <input type="text" class="frmtxtbx" ng-model="payee.phoneNo" name="phoneNumber" ng-class="{'txtbxReq': (payeeForm.phoneNumber.$error.required && (payeeForm.phoneNumber.$touched || payeeForm.$submitted))}" ng-required="true">
                                        </div>
                                        <div class="col-md-6">
                                            <label class="frmlbl">Email*</label>
                                            <input type="text" class="frmtxtbx" ng-model="payee.email" name="email" ng-class="{'txtbxReq': (payeeForm.email.$error.required && (payeeForm.email.$touched || payeeForm.$submitted))}" ng-required="true">

                                        </div>
                                    </div>
                                    <!-- End Row  -->

                                </div>
                            </div>
                        </div>
                        <div class="tab-pane" id="custom-step-2">
                            <div class="content-box">
                                <h3 class="content-box-header bg-black">
                                Payee Bank Details
                            </h3>
                                <div class="content-box-wrapper">
                                    <!-- Start Row  -->
                                    <div class="row form-horizontal">
                                        <div class="col-md-6 ">
                                            <label class="frmlbl">LookUp</label>
                                            <select class="frmtxtbx" ng-model="lookupBy" >
                                                <option>Address</option>
                                                <option>Swift</option>
                                            </select>
                                        </div>
                                    </div>
                                    <!-- End Row  -->
									<div ng-if="lookupBy=='Address'">
                                    <!-- Start Row  -->
                                    <div class="row">
                                        <div class="col-md-6">
                                            <label class="frmlbl">Bank Name</label>
                                            <input type="text" class="frmtxtbx" ng-model="bankName" name="bankName" 
											typeahead="bank as bank  for bank in getBanksNames($viewValue)" 
											typeahead-loading="loadingBankName" 
											ng-class="{'txtbxReq': (payeeForm.bankName.$error.required && (payeeForm.bankName.$touched || payeeForm.$submitted))}" ng-required="true">
											<strong ng-show="loadingBankName">Loading</strong>
                                        </div>
                                        <div class="col-md-6">
                                            <label class="frmlbl">Bank City</label>
                                            <input type="text" class="frmtxtbx" ng-model="bankCity" name="bankCity" 
											typeahead="city as city  for city in  getCities($viewValue)" 
											typeahead-loading="loadingCity"
											ng-class="{'txtbxReq': (payeeForm.bankCity.$error.required && (payeeForm.bankCity.$touched || payeeForm.$submitted))}" ng-required="true">
											<strong ng-show="loadingCity">Loading</strong>
                                        </div>
                                    </div>
                                    <!-- End Row  -->
                                    <!-- Start Row  -->
                                    <div class="row">
										<div class="col-md-6">
                                            <label class="frmlbl">Bank Branch</label>
                                            <input type="text" class="frmtxtbx" ng-model="bankBranch" name="bankBranch" 
											typeahead="bank as bank.streetAddress1 + ' ( ' +bank.city +' )'   for bank in  getBankBranch($viewValue)" typeahead-loading="loadingBranch"
											ng-class="{'txtbxReq': (payeeForm.bankBranch.$error.required && (payeeForm.bankBranch.$touched || payeeForm.$submitted))}" ng-required="true">
											<strong ng-show="loadingBranch">Loading</strong>
                                        </div> 
										<div class="col-md-6">
                                            <label class="frmlbl">Swift/ Bic</label>
                                            <select class="frmtxtbx" ng-model="bankBic" name="bankBic" ng-class="{'txtbxReq': (payeeForm.bankBic.$error.required && (payeeForm.bankBic.$touched || payeeForm.$submitted))}" ng-required="true">
												<option value="" disabled selected>Please Search Banks to Autopopulate BicCode</option>
												<option ng-repeat="x in Banknames" value="{{x.bic}}">{{x.bic}}</option>
											</select>
                                        </div>
                                    </div>
                                    <!-- End Row  -->
									</div>
									<div ng-if="lookupBy=='Swift'">
                                    <!-- Start Row  -->
                                    <div class="row">
                                        <div class="col-md-6">
                                            <label class="frmlbl">Swift/ Bic </label>
                                            <input type="text" class="frmtxtbx" autocomplete="off" ng-model="bankBicSearch" name="bankBic"  
											typeahead-on-select="payeeBankSR($item)" 
											typeahead="bic.bic for bic in getBanks($viewValue) | limitTo:10" 
											typeahead-loading="loadingPayeeBank" 
											typeahead-editable="false" 
											ng-required="true" 
											ng-class="{'txtbxReq': (payeeForm.bankBic.$error.required && (payeeForm.bankBic.$touched || payeeForm.$submitted))}">
											<strong ng-show="loadingPayeeBank">Loading</strong>
                                        </div>
									</div>
									<div class="row" ng-if="payee.bank">
										<div class="col-md-6">
											<p>Name   : {{payee.bank.institutionName}}</p>
											<p>Address: {{payee.bank.streetAddress1}}</p>
											<p>City   : {{payee.bank.city}}</p>
											<p>Zip    : {{payee.bank.zipCode}}</p>
										</div>
									</div>
                                    <!-- End Row  -->
									</div>
									<!-- Start Row  -->
                                    <div class="row">
										<div class="col-md-6">
                                            <label class="frmlbl">Account Number</label>
                                            <input type="text" class="frmtxtbx" ng-model="payee.accountNumber" name="accountNumber" ng-class="{'txtbxReq': (payeeForm.accountNumber.$error.required && (payeeForm.accountNumber.$touched || payeeForm.$submitted))}" ng-required="true">
                                        </div>
                                    </div>
                                    <!-- End Row  -->
                                   
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane" id="custom-step-3" >
                           <div class="content-box">
                                <h3 class="content-box-header bg-blue">
                                Confirm
                            </h3>
                                <div class="content-box-wrapper">
									<div class="row">
										<div class="col-md-12 font-size-14">
											<h3 class="title-hero">PAYEE DETAILS</h3>
											<table class="table">
												<tr><td>Recipient Type</td><td>:</td><td>{{payee.type}}</td></tr>
												<tr><td>Payee Name</td><td>:</td><td>{{payee.name}}</td></tr>
												<tr><td>Address1</td><td>:</td><td>{{payee.address1}}</td></tr>
												<tr><td>Address2</td><td>:</td><td>{{payee.address2}}</td></tr>
												<tr><td>City</td><td>:</td><td>{{payee.city}}</td></tr>
												<tr><td>State</td><td>:</td><td>{{payee.state}}</td></tr>
												<tr><td>Postal Code</td><td>:</td><td>{{payee.zip}}</td></tr>
												<tr><td>Phone No</td><td>:</td><td>{{payee.phoneNo}}</td></tr>
												<tr><td>Email</td><td>:</td><td>{{payee.email}}</td></tr>
											<!--</table>
											<h3 class="title-hero">PAYEE BANK DETAILS</h3>
											<table class="table"> -->
												<tr><td>Bank Name:</td><td>:</td><td>{{payee.bank.institutionName}}</td></tr>
												<tr><td>Bank City</td><td>:</td><td>{{payee.bank.city}}</td></tr>
												<tr><td>Bank Branch</td><td>:</td><td>{{payee.bank.streetAddress1}}</td></tr>
												<tr><td>Bank Swift/Bic</td><td>:</td><td>{{payee.bank.bic}}</td></tr>
												<tr><td>Account Number</td><td>:</td><td>{{payee.accountNumber}}</td></tr>
											</table>
										</div>
									</div>
									<div class="row">
                                    <div class="space_10"></div>
                                    <div class="btnouter">
                                        <button class="btn btn-black">Cancel</button>
                                        <button type="submit" class="btn btn-primary" ng-click="addPayee()">Add Payee</button>
                                    </div>
									<div class="space_20"></div>
									</div>
                                </div>
                            </div>
                        </div>
                       <div class="pager">
                            <div class="pull-right">
                                <button class="btn btn-default button-next">
                                    <i class="glyph-icon icon-arrow-right"></i>
                                </button>
                                <button class="btn btn-default button-last">
                                    <i class="glyph-icon icon-chevron-right"></i>
                                </button>
                            </div>
                            <div class="pull-left">
                                <button class="btn btn-default button-first">
                                    <i class="glyph-icon icon-chevron-left"></i>
                                </button>
                                <button class="btn btn-default button-previous">
                                    <i class="glyph-icon icon-arrow-left"></i>
                                </button>
                            </div>
                        </div>
						<!-- Form End -->
						</form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>