<script type="text/javascript" src="app/assets/widgets/uniform/uniform-demo.js"></script>
<div class="tab-content" ng-controller="addNewInternationalPayeeCtrl">
    <div class="tab-pane active">
        <div class="content-box" ng-show="!confirmPayeeInfo">
            <div class="content-box-wrapper" ng-show="!loading">
                <div class="paytab">
                    <div class="example-box-wrapper">
                        <form class="form-horizontal bordered-row payeeForm" novalidate id="payeeForm" name="payeeForm">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label class="col-sm-4 control-label">Recipient Type*</label>
                                        <div class="col-sm-6">
                                            <div class="radio-inline">
                                               <input type="radio" id="Individual_recipient" class="boss-checkbox" name="recipientType" value="Individual" ng-model="payee.recipientType"/>
												<label for="Individual_recipient" class="boss-label radGroup2">Individual</label>
                                            </div>
                                            <div class="radio-inline">
                                                <input type="radio" id="Business_recipient" class="boss-checkbox" name="recipientType" value="Business" ng-model="payee.recipientType"/>
												<label for="Business_recipient" class="boss-label radGroup2">Business</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                </div>
                            </div>
                            <div class="space_10"></div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label class="col-sm-4 control-label">Payee Name*</label>
                                        <div class="col-sm-6">
                                            <input type="text" class="form-control" ng-model="payee.legalName" placeholder="Payee Name" name="payeeName" ng-class="{'txtbxReq': (payeeForm.payeeName.$error.required && (payeeForm.payeeName.$touched || payeeForm.$submitted))}" ng-required="true">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label class="col-sm-4 control-label">Nickname*</label>
                                        <div class="col-sm-6">
                                            <input type="text" class="form-control" ng-model="payee.aliasName" placeholder="NickName" name="nickName" ng-class="{'txtbxReq': (payeeForm.nickName.$error.required && (payeeForm.nickName.$touched || payeeForm.$submitted))}" ng-required="true">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label class="col-sm-4 control-label">Address1*</label>
                                        <div class="col-sm-6">
                                            <input type="text" class="form-control" ng-model="payee.legalAddress.address1" placeholder="Address 1" name="address1" ng-class="{'txtbxReq': (payeeForm.address1.$error.required && (payeeForm.address1.$touched || payeeForm.$submitted))}" ng-required="true">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label class="col-sm-4 control-label">Address2</label>
                                        <div class="col-sm-6">
                                            <input type="text" placeholder="Address 2" class="form-control" ng-model="payee.legalAddress.address2">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label class="col-sm-4 control-label">Country*</label>
                                        <div class="col-sm-6">
                                            <input type="text" placeholder="Country" class="form-control" ng-model="payee.legalAddress.country" name="country" ng-class="{'txtbxReq': (payeeForm.country.$error.required && (payeeForm.country.$touched || payeeForm.$submitted))}" ng-required="true">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label class="col-sm-4 control-label">State*</label>
                                        <div class="col-sm-6">
                                            <input type="text" placeholder="State" class="form-control" ng-model="payee.legalAddress.state" name="state" ng-class="{'txtbxReq': (payeeForm.state.$error.required && (payeeForm.state.$touched || payeeForm.$submitted))}" ng-required="true">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label class="col-sm-4 control-label">City*</label>
                                        <div class="col-sm-6">
                                            <div class="row">
                                                <div class="col-sm-7">
                                                    <input type="text" placeholder="City" class="form-control" ng-model="payee.legalAddress.city" name="city" ng-class="{'txtbxReq': (payeeForm.city.$error.required && (payeeForm.city.$touched || payeeForm.$submitted))}" ng-required="true">
                                                </div>
                                                <div class="col-sm-5">
                                                    <input type="text" placeholder="postalCode" class="form-control" ng-model="payee.legalAddress.postalCode" name="postalCode" ng-class="{'txtbxReq': (payeeForm.postalCode.$error.required && (payeeForm.postalCode.$touched || payeeForm.$submitted))}" ng-required="true">
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
								<div class="col-md-6">
									<div class="form-group">
                                        <label class="col-sm-4 control-label">Ccy*</label>
                                        <div class="col-sm-6">
                                            <input type="text" placeholder="ccy" class="form-control" ng-model="payee.accountCcy" name="accountCcy" ng-class="{'txtbxReq': (payeeForm.accountCcy.$error.required && (payeeForm.accountCcy.$touched || payeeForm.$submitted))}" ng-required="true">
                                        </div>
                                    </div>
								</div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label class="col-sm-4 control-label">Email Address*</label>
                                        <div class="col-sm-6">
                                            <input type="text" placeholder="Email Address" class="form-control" ng-model="payee.emailAddress" name="email" ng-class="{'txtbxReq': (payeeForm.email.$error.required && (payeeForm.email.$touched || payeeForm.$submitted))}" ng-required="true">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label class="col-sm-4 control-label">Phone Number*</label>
                                        <div class="col-sm-6">
                                            <input type="text" placeholder="Phone Number" class="form-control" ng-model="payee.phoneNumber" name="phoneNumber" ng-class="{'txtbxReq': (payeeForm.phoneNumber.$error.required && (payeeForm.phoneNumber.$touched || payeeForm.$submitted))}" ng-required="true">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <hr class="line" />
                            <div class="space_10"></div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label class="col-sm-4 control-label">LookUp*</label>
                                        <div class="col-sm-6">
                                            <select class="form-control" ng-model="lookupBy">
                                                <option>Address</option>
                                                <option>Swift</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6" ng-if="lookupBy=='Swift'">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label class="col-sm-4 control-label">Swift/ Bic*</label>
                                                <div class="col-sm-6">
                                                    <input type="text" class="form-control" autocomplete="off" ng-model="payee.accountWithBank.bic" name="bankBic" typeahead-on-select="payeeBankSR($item)" typeahead="bic.bic for bic in getBanks($viewValue) | limitTo:10" typeahead-loading="loadingPayeeBank" typeahead-editable="false" ng-required="true" ng-class="{'txtbxReq': (payeeForm.bankBic.$error.required && (payeeForm.bankBic.$touched || payeeForm.$submitted))}">
                                                    <strong ng-show="loadingPayeeBank">Loading</strong>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row" ng-if="payee.accountWithBank">
                                        <div class="col-md-12">
                                            <div class="form-group ">
                                                <div class="col-sm-4"></div>
                                                <div class="col-md-6">
                                                    <p>Bank Name : {{payee.accountWithBank.institutionName}}</p>
                                                    <p>Bank Address: {{payee.accountWithBank.streetAddress1}}</p>
                                                    <p>Bank City : {{payee.accountWithBank.city}}</p>
                                                    <p>Bank Zip : {{payee.accountWithBank.zipCode}}</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
								<div ng-if="lookupBy=='Address'">
                                <div class="row">
									<div class="col-md-6"></div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="col-sm-4 control-label">Bank Name*</label>
                                            <div class="col-sm-6">
                                                <input type="text" class="form-control" ng-model="bankName" name="bankName" typeahead="bank as bank  for bank in getBanksNames($viewValue)" typeahead-loading="loadingBankName" ng-class="{'txtbxReq': (payeeForm.bankName.$error.required && (payeeForm.bankName.$touched || payeeForm.$submitted))}" ng-required="true">
                                                <strong ng-show="loadingBankName">Loading</strong>
                                            </div>
                                        </div>
                                    </div>
                                </div>
								</div>
                            </div>
                            <div ng-if="lookupBy=='Address'">
                                
                                <div class="row">
									<div class="col-md-6"></div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="col-sm-4 control-label">Bank City*</label>
                                            <div class="col-sm-6">
                                                <input type="text" class="form-control" ng-model="bankCity" name="bankCity" typeahead="city as city  for city in  getCities($viewValue)" typeahead-loading="loadingCity" ng-class="{'txtbxReq': (payeeForm.bankCity.$error.required && (payeeForm.bankCity.$touched || payeeForm.$submitted))}" ng-required="true">
                                                <strong ng-show="loadingCity">Loading</strong>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
									<div class="col-md-6"></div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="col-sm-4 control-label">Bank Branch*</label>
                                            <div class="col-sm-6">
                                                <input type="text" class="form-control" ng-model="bankBranch" name="bankBranch" typeahead="bank as bank.streetAddress1 + ' ( ' +bank.city +' )'   for bank in  getBankBranch($viewValue)" typeahead-loading="loadingBranch" ng-class="{'txtbxReq': (payeeForm.bankBranch.$error.required && (payeeForm.bankBranch.$touched || payeeForm.$submitted))}" ng-required="true">
                                                <strong ng-show="loadingBranch">Loading</strong>
                                            </div>
                                        </div>
                                    </div>
								</div>
								<div class="row">
									<div class="col-md-6"></div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="col-sm-4 control-label">Swift/ Bic*</label>
                                            <div class="col-sm-6">
                                                <select class="form-control" ng-model="bankBic" name="bankBic" ng-class="{'txtbxReq': (payeeForm.bankBic.$error.required && (payeeForm.bankBic.$touched || payeeForm.$submitted))}" ng-required="true">
                                                    <option value="" disabled selected>Please Search Banks to Autopopulate BicCode</option>
                                                    <option ng-repeat="x in Banknames" value="{{x.bic}}">{{x.bic}}</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label class="col-sm-4 control-label">Account Number*</label>
                                        <div class="col-sm-6">
                                            <input type="text" class="form-control" ng-model="payee.accountNumber" name="accountNumber" ng-class="{'txtbxReq': (payeeForm.accountNumber.$error.required && (payeeForm.accountNumber.$touched || payeeForm.$submitted))}" ng-required="true">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label class="col-sm-4 control-label">Re Enter Account Number*</label>
                                        <div class="col-sm-6">
                                            <input type="text" class="form-control" ng-model="payee.reAccountNumber" name="reAccountNumber" ng-class="{'txtbxReq': (payeeForm.reAccountNumber.$error.required && (payeeForm.reAccountNumber.$touched || payeeForm.$submitted))}" ng-required="true">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- Intermediary Bank -->
                            <hr class="line" />
                            <div class="space_10"></div>
                            <div class="row">
                                <div class="form-group ">
                                    <div class="col-sm-2"></div>
                                    <div class="col-md-6">
                                        <div class="checkbox checkbox-primary">
                                            <label>
                                                <input type="checkbox" id="inlineCheckbox110" class="custom-checkbox" ng-model="intermediaryBankDetails">
                                                <span class="bold">Intermediary Bank Details (Optional)</span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div ng-if="intermediaryBankDetails">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="col-sm-4 control-label">Intermediary Bank LookUp*</label>
                                            <div class="col-sm-6">
                                                <select class="form-control" ng-model="Intermediary_lookupBy">
                                                    <option>Address</option>
                                                    <option>Swift</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6" ng-if="Intermediary_lookupBy=='Swift'">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <label class="col-sm-4 control-label">Swift/ Bic*</label>
                                                    <div class="col-sm-6">
                                                        <input type="text" class="form-control" autocomplete="off" ng-model="intermediary_bankBicSearch" name="intermediary_bankBic" typeahead-on-select="payeeIntermediaryBankSR($item)" typeahead="bic.bic for bic in getBanks($viewValue) | limitTo:10" typeahead-loading="intermediary_loadingPayeeBank" typeahead-editable="false" ng-required="true" ng-class="{'txtbxReq': (payeeForm.intermediary_bankBic.$error.required && (payeeForm.intermediary_bankBic.$touched || payeeForm.$submitted))}">
                                                        <strong ng-show="intermediary_loadingPayeeBank">Loading</strong>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row" ng-if="payee.intermediaryBank">
                                            <div class="col-md-12">
                                                <div class="form-group ">
                                                    <div class="col-sm-4"></div>
                                                    <div class="col-md-6">
                                                        <p>Bank Name : {{payee.intermediaryBank.institutionName}}</p>
                                                        <p>Bank Address: {{payee.intermediaryBank.streetAddress1}}</p>
                                                        <p>Bank City : {{payee.intermediaryBank.city}}</p>
                                                        <p>Bank Zip : {{payee.intermediaryBank.zipCode}}</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
									<div ng-if="Intermediary_lookupBy=='Address'">
                                    <div class="col-md-6">
                                            <div class="form-group">
                                                <label class="col-sm-4 control-label">Bank Name*</label>
                                                <div class="col-sm-6">
                                                    <input type="text" class="form-control" ng-model="intermediary_bankName" name="intermediary_bankName" typeahead="bank as bank  for bank in getBanksNames($viewValue)" typeahead-loading="intermediary_loadingBankName" ng-class="{'txtbxReq': (payeeForm.intermediary_bankName.$error.required && (payeeForm.intermediary_bankName.$touched || payeeForm.$submitted))}" ng-required="true">
                                                    <strong ng-show="intermediary_loadingBankName">Loading</strong>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div ng-if="Intermediary_lookupBy=='Address'">
                                    <div class="row">
										<div class="col-md-6"></div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label class="col-sm-4 control-label">Bank City*</label>
                                                <div class="col-sm-6">
                                                    <input type="text" class="form-control" ng-model="intermediary_bankCity" name="intermediary_bankCity" typeahead="city as city  for city in  getCities($viewValue)" typeahead-loading="intermediary_loadingCity" ng-class="{'txtbxReq': (payeeForm.intermediary_bankCity.$error.required && (payeeForm.intermediary_bankCity.$touched || payeeForm.$submitted))}" ng-required="true">
                                                    <strong ng-show="intermediary_loadingCity">Loading</strong>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
										<div class="col-md-6"></div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label class="col-sm-4 control-label">Bank Branch*</label>
                                                <div class="col-sm-6">
                                                    <input type="text" class="form-control" ng-model="intermediary_bankBranch" name="intermediary_bankBranch" typeahead="bank as bank.streetAddress1 + ' ( ' +bank.city +' )'   for bank in  getBankBranch($viewValue)" typeahead-loading="intermediary_loadingBranch" ng-class="{'txtbxReq': (payeeForm.intermediary_bankBranch.$error.required && (payeeForm.intermediary_bankBranch.$touched || payeeForm.$submitted))}" ng-required="true">
                                                    <strong ng-show="intermediary_loadingBranch">Loading</strong>
                                                </div>
                                            </div>
                                        </div>
									</div>
									<div class="row">
										<div class="col-md-6"></div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label class="col-sm-4 control-label">Swift/ Bic*</label>
                                                <div class="col-sm-6">
                                                    <select class="form-control" ng-model="intermediary_bankBic" name="intermediary_bankBic" ng-class="{'txtbxReq': (payeeForm.intermediary_bankBic.$error.required && (payeeForm.intermediary_bankBic.$touched || payeeForm.$submitted))}" ng-required="true">
                                                        <option value="" disabled selected>Please Search Banks to Autopopulate BicCode</option>
                                                        <option ng-repeat="x in Banknames" value="{{x.bic}}">{{x.bic}}</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
							<hr class="line" />
							<div class="space_20"></div>
							<div ng-include="'app/templates/commons/two_factor.html'"></div>
							<div class="space_10"></div>
                            <div class="bg-default content-box text-center pad20A mrg25T">
                                <button class="btn btn-md btn-primary" type="submit" ng-disabled="!pinVerified" ng-click="addPayee()">Add Payee</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
			<div class="example-box-wrapper" ng-show="loading">
				<div class="glyph-icon remove-border demo-icon tooltip-button icon-spin-4 icon-spin" title="icon-spin-4"></div> 
			</div>
        </div>
		<div ng-if="confirmPayeeInfo">
			<div ng-include="'app/templates/payees/payee_confirmation.html'"></div>
		</div>
    </div>

</div>